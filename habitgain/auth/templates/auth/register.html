{% extends "base.html" %}
{% block content %}
<div class="container py-5" style="max-width:480px">
  <h2 class="text-light mb-4">Crear cuenta</h2>
  
  <form method="post" class="card p-4 glass border-0 rounded-4">
    <!-- Campo Nombre -->
    <div class="mb-3">
      <label class="form-label text-dark fw-semibold">Nombre completo</label>
      <input type="text" class="form-control" name="name" placeholder="Tu nombre completo" required>
    </div>
    
    <!-- Campo Correo -->
    <div class="mb-3">
      <label class="form-label text-dark fw-semibold">Correo electrónico</label>
      <input type="email" class="form-control" name="email" placeholder="tu@email.com" required>
    </div>
    
    <!-- Campo Contraseña -->
    <div class="mb-3">
      <label class="form-label text-dark fw-semibold">Contraseña</label>
      <input type="password" class="form-control" name="password" placeholder="Mínimo 6 caracteres" minlength="6" required>
      <div class="form-text">Debe tener al menos 6 caracteres</div>
    </div>
    
    <!-- Campo Confirmar Contraseña -->
    <div class="mb-4">
      <label class="form-label text-dark fw-semibold">Confirmar contraseña</label>
      <input type="password" class="form-control" name="password_confirm" placeholder="Repite tu contraseña" required>
    </div>
    
    <!-- Botón de registro -->
    <button type="submit" class="btn btn-primary w-100 rounded-pill py-2 fw-semibold">
      Crear cuenta
    </button>
    
    <!-- Enlace al login -->
    <div class="text-center mt-3">
      <span class="text-muted">Ya tienes cuenta?</span>
      <a href="{{ url_for('auth.login') }}" class="text-primary fw-semibold ms-1">Inicia sesión</a>
    </div>
  </form>
</div>

<!-- JavaScript para validación del lado cliente -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('form');
    const password = document.querySelector('input[name="password"]');
    const passwordConfirm = document.querySelector('input[name="password_confirm"]');
    
    form.addEventListener('submit', function(e) {
      if (password.value !== passwordConfirm.value) {
        e.preventDefault();
        passwordConfirm.setCustomValidity('Las contraseñas no coinciden');
        passwordConfirm.reportValidity();
      } else {
        passwordConfirm.setCustomValidity('');
      }
    });
    
    passwordConfirm.addEventListener('input', function() {
      if (password.value !== passwordConfirm.value) {
        passwordConfirm.setCustomValidity('Las contraseñas no coinciden');
      } else {
        passwordConfirm.setCustomValidity('');
      }
    });
  });
</script>
{% endblock %}
